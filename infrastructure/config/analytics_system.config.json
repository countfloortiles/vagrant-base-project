{
    "services": {
        "analytics_api": {
            "ip_pool": { "range": { "start": "33.33.33.0", "end": "33.33.33.255" } },
            "nodes": [
                { "role": "api_worker", "quantity": 2 },
                { "role": "lb", "quantity": 1 }
            ]
        },
        "riak": {
            "ip_pool": { "range": { "start": "33.33.34.0", "end": "33.33.34.255" } },
            "nodes": [
                { "role": "riak_node", "quantity": 5 },
                { "role": "lb", "quantity": 1 }
            ]
        }
    },
    "roles": {
        "lb": {
            "provider": "virtualbox",
            "virtual_hardware": {"memory": 128, "cpus": 2},
            "box": "lucid64",
            "synced_dir": "synced/lb/",
            "provision": [
                {"provisioner": "shell", "path": "bootstrap/curl.sh"},
                {"provisioner": "shell", "path": "bootstrap/htop.sh"},
                {"provisioner": "shell", "path": "bootstrap/vim.sh"},
                {"provisioner": "shell", "path": "bootstrap/git.sh"},
                {"provisioner": "shell", "path": "bootstrap/make.sh"},
                {"provisioner": "shell", "path": "bootstrap/haproxy.sh"}
            ]
        },
        "api_worker": {
            "provider": "virtualbox",
            "virtual_hardware": {"memory": 128, "cpus": 8},
            "box": "lucid64",
            "synced_dir": "synced/api/",
            "provision": [
                {"provisioner": "shell", "path": "bootstrap/curl.sh"},
                {"provisioner": "shell", "path": "bootstrap/htop.sh"},
                {"provisioner": "shell", "path": "bootstrap/vim.sh"},
                {"provisioner": "shell", "path": "bootstrap/git.sh"},
                {"provisioner": "shell", "path": "bootstrap/make.sh"},
                {"provisioner": "shell", "path": "bootstrap/nodejs.sh"}
            ]
        },
        "riak_node": {
            "provider": "virtualbox",
            "virtual_hardware": {"memory": 128, "cpus": 4},
            "box": "lucid64",
            "synced_dir": "synced/riak/",
            "provision": [
                {"provisioner": "shell", "path": "bootstrap/curl.sh"},
                {"provisioner": "shell", "path": "bootstrap/htop.sh"},
                {"provisioner": "shell", "path": "bootstrap/vim.sh"},
                {"provisioner": "shell", "path": "bootstrap/git.sh"},
                {"provisioner": "shell", "path": "bootstrap/make.sh"},
                {"provisioner": "shell", "path": "bootstrap/riak.sh"}
            ]
        }
    },
    "boxes": {
        "lucid64": {
            "box_url": "http://files.vagrantup.com/lucid64.box",
            "description": "A basic 64-bit Ubuntu 10.04 installation."
        }
    }
}
