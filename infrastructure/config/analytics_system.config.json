{
    "services": {
        "analytics_api": {
            "ip_pool": { "range": { "start": "33.33.33.0", "end": "33.33.33.255" } },
            "nodes": [
                { "role": "api_worker", "quantity": 2 },
                { "role": "lb", "quantity": 1 }
            ]
        },
        "riak": {
            "ip_pool": { "range": { "start": "33.33.34.0", "end": "33.33.34.255" } },
            "nodes": [
                { "role": "riak_node", "quantity": 5 },
                { "role": "lb", "quantity": 1 }
            ]
        }
    },
    "roles": {
        "lb": {
            "provider": "virtualbox",
            "virtual_hardware": {"memory": 128, "cpus": 2},
            "box": "lucid64",
            "synced_dir": "synced/lb/",
            "provision": [
                { "provisioner": "shell", "path": "curl.sh" },
                { "provisioner": "shell", "path": "htop.sh" },
                { "provisioner": "shell", "path": "vim.sh" },
                { "provisioner": "shell", "path": "git.sh" },
                { "provisioner": "shell", "path": "make.sh" },
                { "provisioner": "shell", "path": "haproxy.sh" }
            ]
        },
        "api_worker": {
            "provider": "virtualbox",
            "virtual_hardware": {"memory": 128, "cpus": 8},
            "box": "lucid64",
            "synced_dir": "synced/api/",
            "provision": [
                { "provisioner": "shell", "path": "curl.sh" },
                { "provisioner": "shell", "path": "htop.sh" },
                { "provisioner": "shell", "path": "vim.sh" },
                { "provisioner": "shell", "path": "git.sh" },
                { "provisioner": "shell", "path": "make.sh" },
                { "provisioner": "shell", "path": "nodejs.sh" }
            ]
        },
        "riak_node": {
            "provider": "virtualbox",
            "virtual_hardware": {"memory": 128, "cpus": 4},
            "box": "lucid64",
            "synced_dir": "synced/riak/",
            "provision": [
                { "provisioner": "shell", "path": "curl.sh" },
                { "provisioner": "shell", "path": "htop.sh" },
                { "provisioner": "shell", "path": "vim.sh" },
                { "provisioner": "shell", "path": "git.sh" },
                { "provisioner": "shell", "path": "make.sh" },
                { "provisioner": "shell", "path": "riak.sh" }
            ]
        }
    },
    "boxes": {
        "lucid64": {
            "box_url": "http://files.vagrantup.com/lucid64.box",
            "description": "A basic 64-bit Ubuntu 10.04 installation."
        }
    }
}
